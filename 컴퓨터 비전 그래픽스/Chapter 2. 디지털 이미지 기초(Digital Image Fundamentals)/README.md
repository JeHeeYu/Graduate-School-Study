# Chapter 2. 디지털 이미지 기초 정리 내용

## 인간 시각 시스템과 시각적 특성

### Rods

인간 망막은 명암은 색은 인식하지 못하지만 명암은 감지하며 어두운 환경에서 뭁체의 형태나 위치를 인지하는 데 주로 사용됨
- 색 구분 못함
- 어두움 민감
- 주변 시야 담당

<br>
<br>

### Cones

Rods와 달리 색상을 구분하는 세포로 밝은 조명 아래에서 잘 작동 (RGB)

- 색 인식 가능
- 밝은 환경에서 작동
- 중심 시야 위치

<br>
<br>

## 웨버의 법칙(Weber's Law)

사람이 밝기 차이를 인지하기 위해 그 차이가 기준 밝기에 비례해야 한다는 법칙
<br>
즉, 배경이 어두우면 작은 밝기 변화도 쉽게 감지되지만 밝을수록 더 큰 변화가 있어야 구별이 가능함
- 밝기 감지 한계는 배경 밝기에 따라 다름

<br>
<br>

## 마하 밴드 효과(Mach Band Effect)

사람은 실제로 연속된 밝기 변화가 있는 경우, 그 변화의 경계 근처에서 인접한 부분을 더 밝거나 더 어둡게 인식함
<br>
이는 시각적 착시 중 하나로, 실제로는 존재하지 않는 경계선을 강조해서 인식하는 현상
- 경계 뚜렷, 착시에 의해 과장된 에지 인식

<br>
<br>

## 동시 대비 (Simultaneous Contrast)

동일한 색상의 사각형이라도 그 사각형이 위치한 배경의 밝기에 따라 사람은 그 색을 더 어둡거나 밝게 느낌
<br>
이 현상은 주변 환경이 대상의 색이나 밝기 인식에 영향을 준다는 것을 의미함
<br>
따라서 디스플레이나 디자인, 의료 영상 등에서 배경 처리가 중요하게 작용함
- 같은 색이라도 배경에 따라 다르게 보임

<br>
<br>

## 샘플링 (Sampling)
연속적인 영상에서 공간적으로 이산적인 지점(즉, 픽셀 단위)으로 이미지를 나누는 과정임
<br>
이 과정을 통해 이미지는 격자 형태의 픽셀로 구성되며 이 픽셀 하나하나가 위치 정보를 갖음
<br>
<br>
샘플링 간격이 작을수록 해상도는 높아지고 큰 간격으로 샘플링하면 세부 정보가 손실될 수 있음

<br>
<br>

## 양자화(Quantization)
샘플링된 각 위치에서 얻은 밝기(강도) 값을 일정한 단계로 나누어 이산적인 숫자로 표현하는 과정
<br>
예를 들어 8비트 양자화는 각 픽셀 밝기를 0부터 255까지 256단계로 표현함
<br>
<br>
양자화 단계가 적으면 명암 차이가 뚝뚝 끊기는 것처럼 보이는 밴딩 현상이 발생할 수 있음
- 밝기 정보를 계딴 식으로 나누는 과정, 명암 해상도 결정

## 비트 깊이 (Bit Depth)
비트 깊이는 하나의 픽셀이 가질 수 있는 밝기 수준의 개수를 결정함
<br>
비트 수가 클수록 더 세밀한 밝기 구분이 가능함
<br>
비트 깊이가 충분하지 않으면 이미지 품질이 낮아질 수 있음
- 픽셀 하나가 표현할 수 있는 밝기 수, 보통 8비트 = 256

<br>
<br>

## 포화 (Saturation)
센서가 감지할 수 있는 최대 밝기를 초과할 경우, 더 밝은 정보를 수용하지 못하고 모든 값을 최댓값으로 처리하게 됨
<br>
이런 현상은 영상에서 하양게 뚫려보이는 부분으로 나타나며 정보 손실 발생
- 너무 밝으면 더 밝아져도 다 똑같아 보임 (하얗게 날라감)

<br>
<br>

## 노이즈(Noise)
영상에서 원하지 않는 무작위적인 강도 변화로 나타나는 패턴을 노이즈라고 함
<br>
이는 주로 센서의 전기적 간섭, 열, 데이터 전송 오류 등에서 발생함

<br>

## 비트 조작
디지털 이미지는 이진수로 저장되기 때문에 각 픽셀은 여러 비트로 구성됨 (8비트, 최상위 MSB, 최하위 LSB)
비트 조작은 이 비트들 중 일부만 추출하거나 제거함으로써 영상의 특정 성질을 분석하거나 시각화 하는 기법임
<br>
<br>
예를 들어 LSB는 노이즈처럼 보이는 무작위 패턴을 담고 있어 이를 제거하면 이미지가 더 깔끔해지기도 함
<br>
- 비트 조작은 정보 은닉, 보안, 압축 등의 분야에서 사용됨
- 특히 LSB는 노이즈처럼 보여 중요한 정보가 아닌 경우가 많음

<br>
<br>

## 해상도 차이
다양한 해상도를 가진 이미지 간의 시각적 차이를 명확히 보여주기 위해 고해상도 이미지를 기준으로 저해상도 이미지와의 차이를 픽셀 단위로 빼고 시각화할 수 있음
- 차이 이미지는 영상 품질 분석이나 압축 손실 분석, 복원 전후 비교에 유용함

<br>
<br>

## 디지털 차영상(Digital Subtration Angiography, DSA)
차영상은 정적인 배경을 제거하고 변화하는 영역만을 강조해서 시각화하는 기술임
<br>
DSA는 기본적으로 마스크 이미지(기준 이미지)와 라이브 이미지(주입 후 이미지)의 픽셀 값을 뺌
<br>
이렇게 하면 공통된 배경은 사라짐
- DSA는 의학 영상 분석에서 중요한 기법이며 단순한 뺄셈 연산 이지만 결과적으로 강력한 배경 제거 수단임

<br>
<br>

## 조명 보정 (Shading Correction) - FIg 2.33
조명이 불균일한 경우, 영상의 밝기는 중심부가 밝고 주변부는 어두운 식으로 왜곡됨
<br>
이는 객체의 실제 특성과는 무관하게 조명에 의해 발생한 외곡이며 영상 분석에 큰 장애가 됨
<br>
<br>
조명 보정은 영상 속 조명 패턴을 추정하고 이를 보정 곡면으로 나눈 방식으로 조명을 평탄하게 만든는 기법임

<br>
<br>

## ROI 마스킹(Region of Interest Masking) - Fig 2.34
영상 전체가 아닌 특정 영역만 분석할 때 이진 마스크(Binary Mask)를 사용해 필요한 부분만 남길 수 있음
<br>
ROI 마스킹은 관심 있는 영역을 1, 나머지를 0으로 둔 마스크 이미지를 원본과 곱함(AND 연산)으로 써 해당 영역만 유지함

<br>
<br>

## 집합 연산과 벤 다이어그램 (Set Operations) - Fig 2.35 ~ Fig2.39
영상 처리에는 이진 이미지나 마스크 이미지를 다룰 때는 집합 이론을 활용한 연산이 중요함
<br>
집합 연산이란 각 픽셀의 특정 집합에 속하는지 여부로 보고 두 집합간의 관계를 연산하는 것임
<br>
- 합집합(union) - OR
- 교집합(Intersection) - AND
- 차집합(diffrence)
- 보집합(Complement) - NOT

<br>

## 이미지 회전 - Fig 2.40 ~ Fig 2.41
이미지를 회전할 때, 회전된 위치에 있는 픽셀 값을 결정하는 과정에서 보간이 필요함
<br>
이미지를 회전하면 원래의 정사각형 프레임을 벗어나는 부분이 생김
- 최근접은 빠르지만 거칠고 삼차는 계산량이 많지만 가장 부드럽고 자연스로움
- 회전된 이미지의 테두리 손실을 발징하려면 캔버스 크기를 늘려야 함
- 


<br>

## 영상 정합 (Image Riesgtration) - Fig 2.42
영상 정합은 두 영상간의 좌표계를 일치시키는 과정임
<br>
정합 결과는 완벽하지 않을 수 있고 차이 영상은 정합 오류를 시각적으로 확인하는 데 도움이 됨
- 영상 정합은 의료, 위성 영상 등에서 매우 중요한 전처리 단계이며 정확한 대응점 매칭이 핵심임

<br>

## 벡터 공간과 RGB - Fig 2.43
컬러 이미지는 세 가지 채널(R, G, B)로 구성되고 각 픽셀은 이 세 채널의 값을 갖는 벡터로 표현할 수 있음
- 컬러 영상의 한 픽셀은 벡터이고 다양한 색 공간 변환(RGB -> HSV)의 기반이 됨

<br>

## 히스토그램(Histogram) Fig 2.49 ~ Fig 2.50
Fig 2.49는 합성 이미지와 자연 이미지의 히스토그램을 보여주며 픽셀 강도 분포 차이를 설명함
<br>
합성 이미지는 특정 강도에 몰려 있고 자연 이미지는 분포가 더 넓고 연속적임
<br>
<br>
Fig 2.50은 히스토그램의 1차 모멘트(평균)와 2차 모멘트(분산 또는 표준편차)가 서로 다른 세 개의 히스토그램을 보여줌
<br>
각각의 명암은 평균 위치와 퍼짐 정도를 시각화 함
- 히스토그램은 영상의 밝기 구조를 반영하고 전처리에 사용됨
- 평균 = 밝기 중심, 표준 편차 = 대비 척도, 넓을 수록 대비가 좋음
