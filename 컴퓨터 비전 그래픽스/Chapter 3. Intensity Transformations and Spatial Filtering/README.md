# Chapter 3. Intensity Transformations and Spatial Filtering 정리 내용

## 개요
디지털 영상의 명암 조절, 잡음 제거 등 기법을 배우는 장

## 1. 강도 변환(Intensity Transformations)
강도 변환이란 영상의 각 픽셀 밝기 값을 변경하는 기법을 말한다.
<br>
전역적으로 이미지의 밝기/대비를 조절하거나 특정 부분을 강조할 수 있다.

<br>
<br>

### 1.1 영상 반전(Negative Trasformation, 음화 변환)

<pre>
수식

s = L - 1 - r

r : 입력 픽셀 값
s : 출력 픽셀 값
L = 픽셀 값 범위의 최대 값
</pre>

어두운 부분을 밝게, 밝은 부분을 어둡게 바꾸는(반전) 방식을 말함
<br>
일반적으로 밝기 대비가 역전되는 효과를 냄
<br>
<br>
X-ray 영상, 흑백 필름, 구조 대비가 부족한 영상에 사용함

<br>
<br>

### 1.2 로그 변환(Log Transformation)

<pre>
수식
  
  s = c⋅log(1 + r)

  r : 입력 픽셀
  c : 상수
</pre>

어두운 부분을 확대, 밝은 부분을 압축하여 영상의 동적 범위를 확장하는 방법
<br>
값이 작을수록 더 크게 변하고 클수록 변화가 줄어듦(반비례)
<br>
<br>
푸리에 스펙트럼, 저조도 영상, 천체 이미지 등에서 미세한 세부 표현에 사용함

<br>
<br>

### 1.3 감마 변환(Power-Law / Gamma Transformation, 감마 보정)

화면 디스플레이나 프린터에서 출력 시 장치의 감마 왜곡을 보정할 때 사용
<br>
감마가 높은 모니터 등에서 보정을 위해 사용함

<br>

### 1.4 대비 스트레칭(Contrast Stretching, 대비 확장)
영상에서 특정 범위의 밝기 값에만 픽셀이 집중되어 있는 경우, 이 범위를 전체 범위로 늘려서 전체적으로 대비를 증가시키는 기법
<br>
선형 함수 또는 구간별 선형 함수에 사용

<br>
<br>

### 1.5 범위 강조 (Gray-Level Slicing)
특정 밝기 구간만 강조하거나 나머지를 제거하여 특정 구조를 부각시키는 기법
<br>
강조 구간만 최대 값, 나머지를 0으로 또는 강조 구간만 최대값, 나머지는 원래 값 유지 등으로 함

<br>
<br>

### 1.6 비트 단위 분석 (Bit-Plane Slicing)
8비트 이미지에서 각 비트 LSB ~ MSB를 분리하여 이미지의 구조와 디테일 정보가 어디에 분포하는지 확인하는 기법
<br>
- LSB : 노이즈, 고주파 정보
- MSB : 구조, 윤곽 등 주요 정보

<br>
<br>

## 히스토그램 처리 (Histogram Processsing)
히스토그램이란 영상의 픽셀 분포를 분석하고, 이를 조작하여 대비 향상, 영역 강조, 스타일 맞춤 등을 수행하는 기법

<br>
<br>

### 2.1 히스토그램 평활화(Histogram Equalization, 히스토그램 균등화) Fig 3.16 ~ Fig 3.22

영상의 픽셀 값 분포를 가능한 한 고르게 분포시키는 방식으로 대비(Contrast)를 높임
<br>
여기서 대비란 서로 다른 픽셀들 간 밝기의 차이를 의미함
<br>
픽셀들이 비슷한 값에 몰려 있으면 대비가 낮고, 다양한 밝기가 고루 퍼져 있으면 대비가 높다고 함
<br>
<br>
수식 요약
<br>

<img width="226" alt="image" src="https://github.com/user-attachments/assets/12c92c2d-db49-4ba0-9c6d-9b52fa05d0d3" />

<br>

의료 영상, 저조도 영상 등에서 대비 향상에 사용됨


<br>
<br>

### 2.2 히스토그램 사양화(Histogram Specification / Matching, 히스토그램 지정) Fig 3.23 ~ 3.26
특정 목표 히스토그램을 따라가도록 기존 영상을 변형하는 방법
<br>
위의 평활화 방법보다 정밀한 조절 가능
<br>
<br>
과정은 3단계로 나뉨
1. 입력 영상의 CDF 계산
2. 목표 히스토그램의 CDF 계산
3. CDF 매칭으로 매핑 함수 생성
4. 


<br>
<br>

### 2.3 지역 히스토그램 평활화 (Local Histogram Equalization) FIg 3.32 ~ Fig 3.33
전체 영상이 아니라 작은 블록 단위도 평활화를 수행하여, 전체 구조는 유지하면서 미세한 대비를 강화함
<br>
<br>

### 2.4 Exact Histogram Specification Fig 3.28 ~ 3.31

실제로 지정한 히스토그램에 완벽히 맞추도록 픽셀을 재배열하는 고급 기법
<br>
품질 저하 또는 노이즈 발생 가능성 있음

<br>
<br>

## 3. 공간 필터링 (Spatial Filtering)
이미지에 커널(마스크)을 적용하여 노이즈 제거, 경계 강조, 블러닝, 샤프닝 등을 수행하는 방식
<br>
커널을 픽셀 주변 이웃에 적용하여 연산함

<br>
<br>

